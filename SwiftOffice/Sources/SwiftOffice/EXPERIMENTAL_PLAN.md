# 第一性原理实验计划

## 目标

回归本质，不预设框架，通过实验找到最佳翻译方案。

## 核心问题

原著的核心机制是什么？
1. 懒加载 - `@cso: @dataPrepare?()`
2. 缓存 - class-side 属性驻留内存
3. 依赖触发 - 访问时自动初始化依赖类

## 实验方案

### 实验 1: Property Wrapper
- 使用 `@LazyLoad` 实现懒加载
- 优点: 语言原生支持
- 缺点: 需要 mutating，不适合 static

### 实验 2: Global Cache
- 使用全局缓存存储数据
- 优点: 简单直接
- 缺点: 全局状态

### 实验 3: Actor Cache
- 使用 Actor 隔离缓存
- 优点: 线程安全
- 缺点: 需要 async/await

### 实验 4: static let
- 使用 static let 懒加载
- 优点: 最简洁
- 缺点: 无法重新加载

### 实验 5: static var
- 使用 static var + 手动缓存
- 优点: 最接近原著
- 缺点: 需要手动管理

## 评估标准

| 标准 | 权重 |
|------|------|
| 懒加载 | 25% |
| 缓存 | 25% |
| 依赖触发 | 25% |
| 代码简洁 | 15% |
| 类型安全 | 10% |

## 预期结果

找到最接近原著使用方式的 Swift 实现。

## 时间线

1. 实验编码 (当前)
2. 测试验证
3. 文档更新
4. 版本提交
